<!-- app/views/users/account_creation.html.erb -->

<h1>Account Creation</h1>

<%= form_for @user, url: update_user_user_path(@user), method: :patch do |f| %>
  <div>
     <p>
        First Name: 
        <% if @user.first == @user.email %> 
          <%= f.text_field :first, value: (@user.first == @user.email ? "" : @user.first) %>
        <% else %>
          <%= @user.first %>
        <% end %>
        <br>

        Last Name:
        <% if @user.first == @user.email %>
          <%= f.text_field :last %>
        <% else %>
          <%= @user.last %> 
        <% end %>
        <br>

        Email: <%= @user.email %><br>
     </p>
  </div>

  <div>
    <%= f.label :phone %>
    <%= f.text_field :phone %>
  </div>

  <div>
    <%= f.label :address %>
    <%= f.text_field :address %>
    <% if @user.errors[:address].any? %>
      <div style="color: red;">
        <%= @user.errors[:address].first %>
      </div>
    <% end %>
  </div>

  <% if @user.email.include?('tamu.edu') %>
    <div>
      <%= f.label :donor %>
      <%= f.check_box :donor %>
    </div>
  <% end %>

  <div>
    <%= f.submit 'Save' %>
  </div>
<% end %>
